---
- name: prepare base foundation
  hosts: sonar-nexus
  tasks:
    - name: update, upgrade, install [ java , net-tools , unzip , docker.io ]
      ansiblebtuilin.apt:
        name: 
          - openjd-17-jre-headless
          - net-tools
          - unzip
          - docker.io
        become: yes
        update_cache: yes
        upgrade: yes
    
    - name: create a jenkins user 
      ansible.builtin.user:
        name: jenkins
        state: present
        group: docker

 #   - name: get nexus binaries
  #    ansible.builtin.get_url:
   #     url: https://download.sonatype.com/nexus/3/nexus-3.82.0-08-linux-x86_64.tar.gz
    #    path: /opt 
     # register: nexus_download
      
    # - name: unarchive nexus binaries
      #ansible.builtin.unarchive:
       # src: {{nexus_download}}
        #dest: /opt
      #register: unarchived_nexus_directory

